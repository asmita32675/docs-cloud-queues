<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash "&#x2013;">
        <!ENTITY mdash "&#x2014;">
        <!ENTITY hellip "&#x2026;">
   
 
        
        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">
 
]>

<book 
    xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    version="5.0-extension RaxBook-2.0"    
    xml:id="cq-gettingstarted">
  <title>Cloud Queuing Getting Started Guide</title>
  <?rax title.font.size="30px" 
      pdf.url="../../cq-gettingstarted-latest.pdf" 
      status.bar.text.font.size="40px"
      status.bar.text="Preview" 
      canonical.url.base="http://docs.rackspace.com/queuing/api/v1.0/cs-gettingstarted/content"?>
  <titleabbrev xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml">Cloud Queuing
    Getting Started Guide</titleabbrev>
  <info>
    <copyright>
      <year>2013</year>
      <holder>Rackspace US, Inc.</holder>
    </copyright>
    <releaseinfo>API v1.0 Preview</releaseinfo>
    <productname>Cloud Queuing</productname>
    <pubdate/>
    <legalnotice role="rs-api">
      <annotation>
        <remark>Copyright details are filled in by the
        template. </remark>
      </annotation>
    </legalnotice>
    <revhistory>
      <revision>
        <date>2013-06-21</date>
        <revdescription>
          <itemizedlist spacing="compact">
            <listitem>
              <para>Initial Preview release.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
    </revhistory>
    <raxm:metadata
        xmlns:raxm="http://docs.rackspace.com/api/metadata">
      <raxm:displayname>Getting Started Guide</raxm:displayname>
      <raxm:product version="v1.0">queuing</raxm:product>
      <raxm:priority>1</raxm:priority>
    </raxm:metadata>
  </info>
  <chapter xml:id="DB_Overview" xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml">
    <title>Overview</title>
    <para>Rackspace Cloud Queuing is an API-based message and
      notifications service. A message queueing service is a vital
      component of big, complex web applications. Cloud Queuing from
      Rackspace is designed to fill this need. Cloud Queuing is based
      on the OpenStack Marconi project.</para>
    <para>As you develop more complex web applications, you often have
      multiple servers set up to complete a set of tasks for that
      application. These tasks can be anything from creating users to
      deleting blocks of storage. Cloud Queuing is a service that owns
      the lists of tasks, but not necessarily the order or workflow of
      the tasks. Many applications handle the workflow at a higher
      level.</para>
    <para>Cloud Queuing creates an open alternative to the
      producer-consumer and the publish-subscribe (pub-sub) messaging
      patterns for use in applications that run on OpenStack clouds. </para>
    <para>The Cloud Queuing RESTful API uses a modular architecture
      and supports unified pub-sub and job-queuing semantics. You can
      customize Cloud Queuing to achieve a wide range of performance,
      durability, availability, and efficiency goals. </para>
    <para>This guide explains how to access and get started using the
      API so you can begin using Cloud Queuing for your applications.
      Instructions are given for how to properly enter the necessary
      URLs, using cURL, in order to set up Cloud Queuing. <!-- for
        <trademark>Cloud Servers</trademark>. You can find additional
      details about Rackspace Cloud Queuing in the <citetitle>Cloud
        Queuing Developer Guide</citetitle> at <link
        xlink:href="http://docs.rackspace.com/"
        >http://docs.rackspace.com/</link> and at <link
        xlink:href="http://www.rackspace.com/cloud/cloud_hosting_products/dns/"
        >http://www.rackspace.com/cloud/</link>. --></para>
    <section xml:id="core_concepts">
      <title>Preview Program</title>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The Preview
        program enables customers and Rackers by invitation to test an
        early version of the product and provide feedback of the
        product and capabilities. The Cloud Queuing Preview Program is
        a pre-production service offering covered by the Beta Services
        terms (<link
          xlink:href="http://www.rackspace.com/information/legal/testterms/"
          > rackspace.com/information/legal/testterms/</link>) in our
        Rackspace Cloud Terms of Service.</para>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02"> Preview
        users must meet the following criteria: <itemizedlist
          spacing="compact">
          <listitem>
            <para>A Rackspace Cloud account.</para>
          </listitem>
          <listitem>
            <para>Prior knowledge of HTTP/1.1 conventions.</para>
          </listitem>
          <listitem>
            <para>Basic familiarity with Cloud and RESTful
              APIs.</para>
          </listitem>
          <listitem>
            <para>A willingness to provide feedback to Rackspace’s
              Product and Product Marketing functions.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02"> The
        following is supported during the Preview Program:
          <itemizedlist spacing="compact">
          <listitem>
            <para> Operating System???? </para>
          </listitem>
          <listitem>
            <para> Any other special mentions here???</para>
          </listitem>
        </itemizedlist>
      </para>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The Preview
        Program has some limitations. By using the Cloud Queuing API,
        you agree and understand that:<itemizedlist spacing="compact">
          <listitem>
            <para>There is no charge for this service during the
              Preview period.</para>
          </listitem>
          <listitem>
            <para>If you participate in this Preview Program, you will
              receive a notification prior to general availability.
            </para>
          </listitem>
          <listitem>
            <para>There is no Service Level Agreement. </para>
          </listitem>
          <listitem>
            <para>The API contract is not locked and may change during
              the Preview Program. Rackspace will notify customers in
              Release Notes when and if the contract does
              change.</para>
          </listitem>
          <listitem>
            <para>Support is available from 8 AM – 5 PM (Central Time)
              Monday–Friday.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02">There are
        some resource limits during the Preview Program: </para>
      <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Anything to
        mention here???? Here's what the Cloud Big Data Preview
          had.<itemizedlist spacing="compact">
          <listitem>
            <para> Up to 5 data nodes</para>
          </listitem>
          <listitem>
            <para>Up to 5 virtual CPUs</para>
          </listitem>
          <listitem>
            <para>Up to 25 GBs of RAM</para>
          </listitem>
          <listitem>
            <para>Up to 2 Terabytes of disk space</para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <section xml:id="core_concepts">
      <title>How Cloud Queuing Works</title>
      <para>Here is an overview of the Cloud Queuing workflow: </para>
      <orderedlist>
        <listitem>
          <para>You create a queue to which producers post
            messages.</para>
        </listitem>
        <listitem>
          <para>Workers claim messages from the queue, complete the
            work in that message, and delete the message.</para>
          <para>If a worker plans to be offline before its message
            completes, the worker can retire the claim Time To Live
            (TTL), putting the message back into the queue for another
            worker to claim. </para>
        </listitem>
        <listitem>
          <para>Subscribers monitor the claims of these queues to keep
            track of activity and help troubleshoot if things go
            wrong.</para>
        </listitem>
      </orderedlist>
      <para>For the majority of use cases, Cloud Queuing itself will
        not be responsible for the ordering of messages. If there is
        only a single producer, however, Cloud Queueing guarantees
        that messages are handled in a First In, First Out (FIFO)
        order. </para>
      <para>See the <xref linkend="glossary-d1e018"/> for terms that
        are key to understanding how Cloud Queuing works.</para>
    </section>
    <section xml:id="operating_modes">
      <title>Operating Modes</title>
      <para>Cloud Queuing uses the operating modes described in the
        following sections. </para>
      <section xml:id="producer_consumer">
        <title>Producer-Consumer</title>
        <para>Characteristics of the Producer-Consumer mode
          are:</para>
        <itemizedlist>
          <listitem>
            <para>The worker acts on <emphasis role="italic">only one
                message</emphasis>.</para>
          </listitem>
          <listitem>
            <para>The worker must delete the message when work is
              done.</para>
          </listitem>
          <listitem>
            <para>TTL restores a message to an unclaimed state if the
              worker never finishes.</para>
          </listitem>
          <listitem>
            <para>This mode is ideal for dispatching jobs to multiple
              processors.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="publish_subscribe">
        <title>Publish-Subscribe</title>
        <para>Characteristics of the Publish-Subscribe mode
          are:</para>
        <itemizedlist>
          <listitem>
            <para>All subscribers listen to the messages in the queue.
            </para>
          </listitem>
          <listitem>
            <para>Messages are not claimed.</para>
          </listitem>
          <listitem>
            <para>Subscribers can send a marker/cursor to skip
              messages already seen. </para>
          </listitem>
          <listitem>
            <para>TTL eventually deletes messages. </para>
          </listitem>
          <listitem>
            <para>This mode is ideal for notification of events to
              multiple listeners at once.</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section xml:id="cloud-queuing-actions" >
      <title>Cloud Queuing Actions</title>
      <para>This section provides a list of actions possible using the
        Cloud Queuing API. </para>
      <section xml:id="queue-actions">
        <title>Queues </title>
        <para>The following actions are available for queues: </para>
        <itemizedlist>
          <listitem>
            <para>Create Queue</para>
          </listitem>
          <listitem>
            <para>List Queues</para>
          </listitem>
          <listitem>
            <para>Set Queue Metadata</para>
          </listitem>
          <listitem>
            <para>Get Queue Metadata</para>
          </listitem>
          <listitem>
            <para>Get Queue Stats</para>
          </listitem>
          <listitem>
            <para>Delete Queue</para>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="message-actions">
        <title>Messages</title>
        <para>The following actions are available for messages:</para>
        <itemizedlist>
          <listitem>
            <para>Post Message(s)</para>
          </listitem>
          <listitem>
            <para>Get Messages</para>
          </listitem>
          <listitem>
            <para>Get a Specific Message</para>
          </listitem>
          <listitem>
            <para>Claim Messages</para>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="claim-actions">
        <title>Claims</title>
        <para>The following actions are available for claims:</para>
        <itemizedlist>
          <listitem>
            <para>Query Claim</para>
          </listitem>
          <listitem>
            <para>Update Claim</para>
          </listitem>
          <listitem>
            <para>Release Claim</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section xml:id="use_cases" >
      <title>Use Cases</title>
      <para>Following are some possible use cases for Cloud Queuing: </para>
      <itemizedlist>
        <listitem>
          <para> To distribute tasks among multiple workers
            (transactional job queues). </para>
        </listitem>
        <listitem>
          <para>To forward events to data collectors (transactional
            event queues).</para>
        </listitem>
        <listitem>
          <para>To publish events to any number of subscribers
            (publish-subscribe).</para>
        </listitem>
        <listitem>
          <para>To send commands to one or more agents (point-to-point
            or publish-subscribe).</para>
        </listitem>
        <listitem>
          <para>To request an action or get information from a Remote
            Procedure Call (RPC) agent.</para>
        </listitem>
      </itemizedlist>
    </section>
  </chapter>
  <chapter xml:id="prerequisites" >
    <title>Prerequisites</title>
    <para>This section describes the prerequisities for working with
      Cloud Queuing.</para>
    <section xml:id="cloud-account">
      <title>Open a Rackspace Cloud Account</title>
      <para xmlns:svg="http://www.w3.org/2000/svg"
        xmlns:m="http://www.w3.org/1998/Math/MathML"
        xmlns:html="http://www.w3.org/1999/xhtml">In order to use the
        Cloud Queuing API, you must have the following prerequisites:
          <itemizedlist spacing="compact">
          <listitem>
            <para>Rackspace Cloud account</para>
          </listitem>
          <listitem>
            <para>Rackspace Cloud username and password, as specified
              during registration</para>
          </listitem>
        </itemizedlist></para>
    </section>
    <section xml:id="access-api-2" >
      <title>Accessing the API</title>
      <para>To access the Rackspace Cloud Queuing API use the
        following URL:</para>
      <para>https://queue.api.rackspacecloud.com/v1.0/ 1234</para>
      <note>
        <para>1234 represents your account number and is used as a
          placeholder. (The account number is also sometimes shown as
          the tenant ID.) When you work with the API, remember to use
          your Rackspace account number. If you don't know your
          account number, it is included in the publicURL, which is
          part of the Authentication response. See <xref
            linkend="authentication-1"/>
        </para>
      </note>
    </section>
    <section xml:id="authentication-1">
      <title>Authentication</title>
      <para> Every ReST request against the Cloud Queuing requires the
        inclusion of a specific authorization token, supplied by the
          <code>X-Auth-Token</code> HTTP header. Customers obtain this
        token by first using the Rackspace Cloud Authentication
        Service and supplying a valid username and API access key. </para>
      <para>
        To authenticate, submit a <code>POST/v2.0/tokens</code> request, 
        presenting valid Rackspace customer credentials 
        in the message body to a Rackspace authentication endpoint. 
      </para>
      <para>
        <emphasis role="bold">GET YOUR CREDENTIALS</emphasis>
      </para>
      <para> You can use either of two sets of credentials: <itemizedlist>
        <listitem>
          <para>your <code>username</code> and
            <code>password</code></para>
        </listitem>
        <listitem>
          <para>your <code>username</code> and <code>API
            key</code></para>
        </listitem>
      </itemizedlist>
      </para>
      <para>
        Your <code>username</code> and
        <code>password</code> are the ones you use to login to the 
        Rackspace control panel. Once you are logged in, you can use 
        the Rackspace control panel to obtain your <code>API key</code>.
      </para>
      <para>
        Use the control panel for the region in which your account is based: 
        <itemizedlist spacing="compact">
          <listitem>
            <para>
              US-based accounts use the control panel at <link xlink:href="https://manage.rackspacecloud.com/">https://manage.rackspacecloud.com/</link>.
            </para>
          </listitem>
          <listitem>
            <para> UK-based accounts use the control panel at
              <link xlink:href="https://lon.manage.rackspacecloud.com/">
                https://lon.manage.rackspacecloud.com/</link>. 
            </para>
          </listitem>
        </itemizedlist> 
      </para>
      <para>
        <emphasis role="bold">CHOOSE YOUR AUTHENTICATION </emphasis>
      </para>
      <para>
        Use the authentication endpoint for the region in which your account is based:
        <itemizedlist>
          <listitem>
            <para>All accounts authenticate through
              <link xlink:href="https://identity.api.rackspacecloud.com/v2.0/tokens">
                identity.api.rackspacecloud.com/v2.0/tokens</link>.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">SEND YOUR CREDENTIALS TO YOUR AUTHENTICATION
          ENDPOINT</emphasis>
      </para>
      <para> If you know your credentials and your authentication
        endpoint, and you can issue a <code>POST
          /v2.0/tokens</code> request in an API call, you have
        all the basic information you need to use the Rackspace
        Cloud Identity Service. 
      </para>
      <para> You can use <link xlink:href="http://curl.haxx.se/"
        >cURL</link> to try the authentication process in two
        steps: get a token; send the token to a service.<orderedlist>
          <listitem>
            <para>Get an authentication token by providing
              your username and either your API key or your
              password. Here are examples of both
              approaches:</para>
            <para><emphasis>You can request a token by
              providing your username and your API
              key.</emphasis></para>
            <para>
              <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d 
'{ "auth":{ "RAX-KSKEY:apiKeyCredentials":{ "username":"theUserName", "apiKey":"00a00000a000a0000000a000a00aaa0a" } } }' -H "Content-type: application/json"</literallayout>
            </para>
            <para><emphasis>You can request a token by
              providing your username and your
              password.</emphasis></para>
            <para>
              <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d
'{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' -H "Content-type: application/json"</literallayout>
            </para>
            <para> Successful authentication returns a token
              which you can use as evidence that your
              identity has already been authenticated. To
              use the token, pass it to other services as an
              <code>X-Auth-Token</code> header. </para>
            <para> Authentication also returns a service
              catalog, listing the endpoints you can use for
              Cloud services. </para>
          </listitem>
          <listitem>
            <para>Use the authentication token to send a GET
              to a service you would like to use. Here is an
              example of passing an authentication token to
              the Cloud Files service, using the Cloud Files
              service catalog endpoint that was returned
              along with the token.</para>
            <para><emphasis>You can use a token and a service endpoint to tell a service 
              that your credentials are valid.</emphasis></para>
          </listitem>
        </orderedlist>
      </para>
      
      
      <para>Authentication tokens are typically valid for 24 hours.
        Applications should be designed to re-authenticate after
        receiving a 401 (Unauthorized) response from a service
        endpoint. </para>
      <important>
        <para>If you are programmatically parsing an authentication
          response, please be aware that service names are stable
          for the life of the particular service and can be used as
          keys. You should also be aware that a user's service
          catalog can include multiple uniquely-named services which
          perform similar functions. In Auth 2.0,
          the service type attribute can be used as a key by which
          to recognize similar services; see the tip below.
        </para>
      </important> 
      <!--
      <para>You need to generate a token whether you use cURL or a
        ReST client.</para>
      <para>In order to use the ReST API, you will first need to
        obtain an authentication token, which will need to be passed
        in for each request using the <code>X-Auth-Token</code>
        header. </para>
      <para>The following example demonstrates how to use cURL to
        obtain the authentication token and the account number. You
        will need to supply the authentication token and account
        number when making subsequent Cloud Queuing API calls.</para>
      <para>Remember to replace the names in the Authenticate Request
        examples below with their respective values:<itemizedlist
          spacing="compact">
          <listitem>
            <para><emphasis role="bold">your_username</emphasis>
              &mdash; The username is your common Rackspace Cloud
              username, as supplied during registration.</para>
          </listitem>
          <listitem>
            <para><emphasis role="bold">your_api_key</emphasis>
              &mdash; The key is your API access key. The key can be
              obtained from the Rackspace Cloud Control Panel in the
                <guimenu>&lt;Your Account></guimenu> /
                <guimenuitem>API Keys</guimenuitem> section (login
              here: <link xlink:href="http://mycloud.rackspace.com/"
                >Cloud Control Panel</link>).</para>
          </listitem>
        </itemizedlist></para>
      <para> Your account may be based in either the US or the UK;
        this is not determined by your physical location but by the
        location of the Rackspace retail site that was used to create
        your account: </para>
      <itemizedlist spacing="compact">
        <listitem>
          <para> If your account was created via <link
              xlink:href="http://www.rackspacecloud.com"
              >http://www.rackspacecloud.com</link>, it is a US-based
            account. </para>
        </listitem>
        <listitem>
          <para> If your account was created via <link
              xlink:href="http://www.rackspace.co.uk"
              >http://www.rackspace.co.uk</link>, it is a UK-based
            account. </para>
        </listitem>
      </itemizedlist>
      <para>Notice that you authenticate using a special URL for Cloud
        authentication services. For example, you may use
          <code>https://identity.api.rackspacecloud.com/v2.0/tokens</code>,
        as shown in the following Authentication Request examples.
        Note that the <code>v2.0</code> component in the URL indicates
        that you are using version 2.0 of the Cloud Auth API.</para>
      <example>
        <title>cURL Authentication Request: XML</title>
        <?dbfo keep-together="always"?>
        <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;auth>
   &lt;apiKeyCredentials
      xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
         username="<emphasis role="bold">your_username</emphasis>"
         apiKey="<emphasis role="bold">your_api_key</emphasis>"/>
&lt;/auth>' \
<option>-H 'Content-Type: application/xml'</option> \
<option>-H 'Accept: application/xml'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
      </example>
      <example>
        <title>cURL Authentication Request: JSON</title>
        <?dbfo keep-together="always"?>
        <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'{
    "auth":
    {
       "RAX-KSKEY:apiKeyCredentials":
       {
          "username": "<emphasis role="bold">your_username</emphasis>",
          "apiKey": "<emphasis role="bold">your_api_key</emphasis>"}
    }
}' \
<option>-H 'Content-Type: application/json'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
      </example>
      <note>
        <para>For UK-based accounts, you may decide to use
            <code>'https://lon.identity.api.rackspacecloud.com/v2.0/tokens'</code>
          instead.</para>
      </note>
      <para>In your authentication request, use your own credentials
        rather than the sample values shown here for username,
        password. and tenantId. When you authenticate successfully,
        the response to your authentication request will include a
        catalog of the services to which you have subscribed. </para>
        -->
      <para>You can request a token by providing your username and
        your API key as shown in the following example.</para>
      <example>
        <title>cURL Authentication Request with Username and API
          Key</title>
        <programlisting>curl -X POST https://identity.api.rackspacecloud.com/v2.0/tokens -d '{ "auth":{ "RAX-KSKEY:apiKeyCredentials":{ "username":"theUserName", "apiKey":"00a00000a000a0000000a000a00aaa0a" } } }' -H "Content-type: application/json" | python -mjson.tool</programlisting>
      </example>
      <para>You can also request a token by providing your username
        and your password as shown in the next example.</para>
      <example>
        <title>cURL Authentication Request with Username and
          Password</title>
        <programlisting>curl -X POST https://identity.api.rackspacecloud.com/v2.0/tokens -d '{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' -H "Content-type: application/json" | python -mjson.tool</programlisting>
      </example>
      <para>The following example shows only the service catalog
        portion of the authentication response.</para>
      <example>
        <title>Service Catalog in Authentication Response:
          JSON</title>
        <programlisting>{
    "access": {
        "serviceCatalog": [
           ...
        ],
        "token": {
            "expires": "2012-04-13T13:15:00.000-05:00",
            "id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
             "tenant": {
                "id": "123456",
                "name": "123456"
            } 
        },
        "user": {
            "RAX-AUTH:defaultRegion": "DFW",
            "id": "161418",
            "name": "demoauthor",
            "roles": [
                {
                    "description": "User Admin Role.",
                    "id": "3",
                    "name": "identity:user-admin"
                }
            ]
        }
    }
}</programlisting>
      </example>
      <para>Note your token.id and your user.id. The token.tenant.id
        is your "tenantID" and you will need it to make requests to
        Autoscale. </para>
      <para>If the auth token received is
        "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee" and your tenantID is
        123456, the following example request will list all groups
        you've created:</para>
      <example>
        <title>Authentication Request to List Groups Created</title>
        <programlisting>$ curl -X GET -H "Content-Type: application/json" -H "X-Auth-token: {auth-token}" https://{region}.XXX.XXX.rackspacecloud.com/v1.0/{tenant-id}/groups/ | python -mjson.tool
 </programlisting>
      </example>
      <!--
      <para>The authentication token <code>id</code> is returned along
        with an <code>expires</code> attribute that specifies when the
        token expires. </para>
      <note>
        <title>Notes</title>
        <itemizedlist spacing="compact">
          <listitem>
            <para>For all response examples in this guide, the field
              values you receive in your responses will vary from
              those shown here since they will be specific to your
              account.</para>
          </listitem>
          <listitem>
            <para>The information shown in the Authentication Response
              examples above is for US-based accounts. If you
              authenticate against the UK-endpoint for auth, you will
              see the service catalog information for UK-based
              accounts.</para>
          </listitem>
          <listitem>
            <para>The <code>id</code> attribute in the Authentication
              Response specifies the authentication token. Tokens are
              valid for a finite duration.</para>
            <para>Remember to supply your authentication token
              wherever you see the field <emphasis role="bold"
                >your_auth_token</emphasis> in the examples in this
              guide.</para>
          </listitem>
          <listitem>
            <para> The <code>expires</code> attribute denotes the time
              after which the token will automatically become invalid.
              A token may be manually revoked before the time
              identified by the expires attribute;
                <code>expires</code> predicts a token's maximum
              possible lifespan but does not guarantee that it will
              reach that lifespan. Clients are encouraged to cache a
              token until it expires.</para>
          </listitem>
          <listitem>
            <para>Applications should be designed to re-authenticate
              after receiving a 401 (Unauthorized) response from a
              service endpoint.</para>
          </listitem>
        </itemizedlist>
      </note>
      <para>The <code>publicURL</code> endpoints for Cloud Queuing (for
        example <code>https://
          ord.queue.api.rackspacecloud.com/v1.0/1100111</code>) are
        also returned in the response. </para>
      <para>You will find the actual account number after the final
        '/' in the <code>publicURL</code> field. In this example, you
        can see that the account number is 1100111. You need to
        specify your account number on most of the Cloud Queuing API
        calls, wherever you see the field <code>your_acct_id</code>
        specified in the examples in this guide.</para>
      <para>After authentication, you can use cURL to perform GET ,
        DELETE , and POST requests for the Cloud Queuing </para>
        -->
    </section>
    <section xml:id="endpoints" >
      <title>Endpoints</title>
      <para>The endpoint to use for your Cloud Queuing API calls for
        the Preview program is:</para>
      <para><code>https://ord.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </para>
      <para>or</para>
      <para><code>https://snet-ord.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </para>
      <!--
      <para>The endpoints to use for your Cloud Queuing API calls are
        summarized in the table below.</para>
      
      <para>
        <table rules="all">
          <caption>Regionalized Service Endpoints</caption>
          <thead>
            <tr align="center">
              <td colspan="2">Region</td>
              <td colspan="5">Endpoint</td>
            </tr>
          </thead>
          <tbody>
            <tr align="left">
              <td colspan="2">Chicago (ORD)</td>
              <td colspan="5"
                  ><code>https://ord.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
            </tr>
            <tr>
              <td colspan="2"/>
              <td colspan="5"
                  ><code>https://snet-ord.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
              </td>
            </tr>
            <tr align="left">
              <td colspan="2">Dallas/Ft. Worth (DFW)</td>
              <td colspan="5"
                  ><code>https://dfw.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
            </tr>
            <tr>
              <td colspan="2"/>
              <td colspan="5"
                  ><code>https://snet-dfw.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/</td>
            </tr>
            <tr align="left">
              <td colspan="2">London (LON)</td>
              <td colspan="5">
                <code>https://lon.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
            </tr>
            <tr>
              <td colspan="2"/>
              <td colspan="5"
                  ><code>https://snet-lon.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
              </td>
            </tr>
            <tr align="left">
              <td colspan="2">Sydney (SYD)</td>
              <td colspan="5">
                <code>https://syd.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
            </tr>
            <tr>
              <td colspan="2"/>
              <td colspan="5"
                  ><code>https://snet-syd.queue.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
              </td>
            </tr>
          </tbody>
        </table>
      </para>
      <note>
        <title>Notes:</title>
        <itemizedlist>
          <listitem>
            <para>Choose the endpoint from the table for the
              datacenter where your Cloud resources are
              located.</para>
          </listitem>
          <listitem>
            <para>All examples in this guide assume that you
              are operating against the ORD datacenter,
              however if you are using a different
              datacenter, be sure to use the associated
              endpoint from the table above instead.</para>
          </listitem>
        </itemizedlist>
      </note>
      -->
      <para>Replace the sample account ID number,
          <parameter>1234</parameter>, with your actual account number
        returned as part of the authentication response. Use your
        actual account number wherever you see the field <emphasis
          role="bold">your_acct_id</emphasis> specified in this guide.
        Refer to <xref linkend="authentication-1"/>.</para>
      <para>When making a Cloud Queuing API call, place the endpoint
        at the beginning of the request URL, for example:
          (<code>https://ord.queue.api.rackspacecloud.com/v1.0/your_acct_id/</code>.</para>
      <section  xml:id="using-curl">
        <title>Using cURL</title>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">You have several
          options for sending requests through an API: </para>
        <itemizedlist spacing="compact"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">
          <listitem>
            <para>Developers and testers may prefer to use cURL, the
              command-line tool from <link
                xlink:href="http://curl.haxx.se/"
                >http://curl.haxx.se/</link>. </para>
            <para>With cURL you can send HTTP requests and receive
              responses back from the command line. </para>
          </listitem>
          <listitem>
            <para>If you like to use a more graphical interface, the
              ReST client for Firefox also works well for testing and
              trying out commands, see <link
                xlink:href="https://addons.mozilla.org/en-US/firefox/addon/restclient/"
                >https://addons.mozilla.org/en-US/firefox/addon/restclient/</link>.
            </para>
          </listitem>
          <listitem>
            <para>You can also download and install rest-client, a
              Java application to test ReSTful web services, from
                <link
                xlink:href="http://code.google.com/p/rest-client/"
                >http://code.google.com/p/rest-client/</link>. </para>
          </listitem>
        </itemizedlist>
        <para>cURL is a command-line tool that is available on most
          UNIX®-like environments and Mac OS X® and can be downloaded
          for Windows® in order to interact with the ReST interfaces.
          For more information on cURL, visit <link
            xlink:href="http://curl.haxx.se/"
            >http://curl.haxx.se/</link>. </para>
        <para>cURL allows you to transmit and receive HTTP requests
          and responses from the command-line or from within a shell
          script. This makes it possible to work with the ReST API
          directly without using one of the client APIs. </para>
        <para>The following cURL command-line options will be used in
          this guide to run the examples:</para>
        <variablelist>
          <title>cURL Command-Line Options</title>
          <varlistentry>
            <term><option>-d</option></term>
            <listitem>
              <para>Sends the specified data in a post request to the
                HTTP server.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-i</option></term>
            <listitem>
              <para>Includes the HTTP header in the output.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-H HEADER</option></term>
            <listitem>
              <para>Specify an HTTP header in the request.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-X</option></term>
            <listitem>
              <para>Specifies the request method to use when
                communicating with the HTTP server. The specified
                request is used instead of the default method, which
                is GET. For example, <option>-X PUT</option> specifies
                to use the PUT request method.</para>
            </listitem>
          </varlistentry>
        </variablelist>
        <note>
          <para>If you have the tools, you can run the cURL JSON
            request examples with the following options to format the
            output from cURL: <command>&lt;curl JSON request example>
              | python -mjson.tool</command>.</para>
        </note>
        <para/>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">To run the cURL
          request examples shown in this guide on Linux or Mac
          systems, copy and paste each example from the HTML version
          of this guide into an ASCII editor (for example <emphasis
            role="bold">vi</emphasis> or <emphasis role="bold"
            >TextEdit</emphasis>). Then modify each example with your
          required account information and so forth, as detailed in
          this guide.</para>
        <note xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">
          <para>The carriage returns in the cURL request examples that
            are part of the cURL syntax are escaped with a backslash
            ('\') in order to avoid prematurely terminating the
            command. However you should not escape carriage returns
            inside the xml or json message within the command.</para>
        </note>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">Consider the
          following cURL Authenticate Request: XML example that is
          described in detail in <xref linkend="authentication-1"
          />:</para>
        <example xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">
          <title>cURL Authenticate Request: XML</title>
          <?dbfo keep-together="always"?>
          <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>  
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        </example>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">You can see that
          the lines that are part of the cURL command syntax have all
          been escaped with a backslash ('\') to indicate that the
          command continues on the next line:</para>
        <screen language="bash" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml"><command>curl</command> <option>-i</option> <option>-d</option> \
  
   
(... lines within the xml portion of the message are not shown in this example)
(... the example only shows lines that are part of cURL syntax)     
     
    
   
 &lt;/auth&gt;<option>'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">However the lines
            <emphasis>within</emphasis> the xml portion of the message
          are <emphasis>not</emphasis> escaped with a backslash ('\')
          in order to avoid issues with the xml processing:</para>
        <screen language="bash" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml">'&lt;?xml version="1.0" encoding="UTF-8"?>  
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
</screen>
        <note xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">
          <para>The final line of the xml message is escaped since the
            backslash lies <emphasis>outside</emphasis> the xml
            message and continues the cURL command to the next
            line.</para>
        </note>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">After you are
          finished modifying the text for the cURL request example
          with your information (for example <emphasis role="bold"
              ><code>your_username</code></emphasis> and <emphasis
            role="bold"><code>your_api_key</code></emphasis>), paste
          it into your terminal window. Then execute the cURL command
          by pressing <guilabel>Enter</guilabel>.</para>
        <para xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml">If you have
          trouble copying and pasting the examples as described, try
          typing the entire example on one long line, removing all the
          backslash line continuation characters.</para>
      </section>
    </section>
  </chapter>
  <chapter xml:id="stepping_through_the_api" >
    <title xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml">Working with Your
      First Message Queue</title>
    <para>This chapter contains a simple exercise that will help you
      become familiar with the basic Cloud Queuing calls. Examples are
      provided in cURL. </para>
    <section>
      <title>Create Queue</title>
      <para/>
      <example>
        <title>cURL Create Queue Request</title>
        <programlisting>curl -i -X PUT http://0.0.0.0:8888/v1/480924/queues/rgoodqueue -d '{"metadata": "Awesome Queue"}' -H "Content-type: application/json" -H "X-Auth-Token: 15eb3ad0f864402ea5904f80324307a4"</programlisting>
      </example>
    </section>
    <section>
      <title>Claim Messages</title>
      <para/>
    </section>
    <section>
      <title>Delete Messages</title>
      <para/>
    </section>
    <section>
      <title>Delete Messages</title>
      <para/>
    </section>
    <section>
      <title>Delete Claim</title>
      <para/>
    </section>
    <section>
      <title>Delete Queue</title>
      <para/>
    </section>
    <para/>
    <para/>
    <para/>
    <para/>
  </chapter>
  <chapter xml:id="additional-resources" >
    <title>Additional Resources</title>
    <!--
    <para>You can download the most current versions of the
      API-related documents from <link
        xlink:href="http://docs.rackspace.com/api/"
        >docs.rackspace.com/api/</link>. 
    </para>
    -->
    <para>
      For information about Rackspace Cloud products, refer to
      <link xlink:href="http://www.rackspace.com/cloud/">
        www.rackspace.com/cloud</link>. This site also
      offers links to Rackspace's official support channels,
      including knowledge base articles, forums, phone, chat, and
      email. </para>
    <para>Email all support questions to:
      <email>cbdteam@rackspace.com</email>. 
    </para>
    <para>You can follow Rackspace updates and announcements
      via twitter at: <link
        xlink:href="http://www.twitter.com/rackspace"
        >www.twitter.com/rackspace</link>. </para>
    <para>This API uses standard HTTP 1.1 response codes as
      documented at: <link
        xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
        >www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>.
    </para>
  </chapter>
  <chapter xml:id="doc-change-history">
    <title>Document Change History</title>
    <para>This version of the Getting Started replaces and obsoletes
      all previous versions. The most recent changes are described in
      the table below: </para>
    <?rax revhistory?>
  </chapter>
  <glossary xml:id="glossary-d1e018">
    <title>Glossary</title>
    <info>
      <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
        <raxm:type>concept</raxm:type>
        <raxm:product version="v1.0">cdns</raxm:product>
        <raxm:priority>50</raxm:priority>
      </raxm:metadata> 
    </info>
    <glossentry xml:id="claim-d1e017">
      <glossterm>Claim</glossterm>
      <glossdef>
        <para> A worker claims or checks out a message to perform a
          task. Doing so prevents other workers from attempting to
          perform the same task.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="message-d1e016">
      <glossterm>Message</glossterm>
      <glossdef>
        <para>A message is a task, a notification, or anything else
          that gets posted to the queue.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="producer-d1e020">
      <glossterm>Producer</glossterm>
      <glossdef>
        <para>A producer is a server that sends messages to the
          queue.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="queue-d1e019">
      <glossterm>Queue</glossterm>
      <glossdef>
        <para>A queue holds messages.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="subscriber-d1e018">
      <glossterm>Subscriber</glossterm>
      <glossdef>
        <para>A subscriber (or observer) watches messages like an RSS
          feed, but does not claim any messages.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="worker-d1e018" >
      <glossterm>Worker</glossterm>
      <glossdef>
        <para>A worker is a server that claims a messages and performs
          the necessary task.</para>
      </glossdef>
    </glossentry>
  </glossary>
</book>
